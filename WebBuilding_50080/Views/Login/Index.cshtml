@using System.Data.SqlClient;
@model WebBuilding_50080.Models.User
@{
    ViewData["Title"] = "Login";
    var user = Model;
}

<div class="text-center">
    <h1 class="display-4">Welcome to UTR</h1>

    @if (user != null)
    {
        <div class="text-center my-4">

            <h2 style="font-weight: bold;">Hello, @user.firstName.ToUpper()[0]@user.firstName.Substring(1) @user.lastName.ToUpper()[0]@user.lastName.Substring(1)</h2>
            @if (user.points != null)
            {
                <br />
                <h4 style="font-weight: bold;">Loyalty points: @user.points</h4>
                <h6 style="font-weight: bold;">*100 points to become a preferred customer</h6>
            }
        </div>
    }

 

</div>
@if (user == null) {
<h1>Login</h1>
<div class="container">
    <form method="post" asp-action="Login" asp-controller="Login">
    <div class="row">
        <div class="col-6">
            <div class="form-group">
                <label for="email">Email</label>
            </div>
        </div>
        <div class="col-6">
            <div class="form-group">
                <label for="pass">Password</label>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-6">
            <div class="form-group">
                <input type="email" name="email" class="form-controll" id="email">
            </div>
        </div>
        <div class="col-6">
            <div class="form-group">
                <input type="password" name="pass"  class="form-controll" id="pass">
            </div>
        </div>
   </div>
  
   <div class="pt-2">
        <button type="submit" class="btn btn-primary ">Login</button>
    </div>
    @if (ViewData["LoginError"] != null)
        {
            <div class="text-danger mt-2">@ViewData["LoginError"]</div>

        }
    </form>
    </div>
    <div class="justify-content-center col-12 pt-4">
        <a href="@Url.Action("SignUp", "Login")" class="btn btn-primary form-control">SignUp</a>
    </div>
}
else
{
    <div class=" = text-center">

        <p><a class="btn btn-primary m-2" href="@Url.Action("Index", "Account")">Account Settings</a></p>
    

        <form asp-controller="Login" asp-action="LogOut" method="post" style="display:inline;">

            <button type="submit" class="btn btn-secondary m-2">Log Out</button>
        </form>


        <form asp-controller="Login" asp-action="Delete" method="post" style="display:inline;">
            <button type="submit" class="btn btn-danger pt-4">Delete Account</button>
        </form>

    </div>
}


